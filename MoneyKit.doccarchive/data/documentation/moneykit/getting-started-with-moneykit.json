{"kind":"article","primaryContentSections":[{"content":[{"type":"heading","level":2,"text":"Overview","anchor":"Overview"},{"inlineContent":[{"type":"text","text":"To get started with MoneyKit for iOS, clone the "},{"isActive":true,"type":"reference","identifier":"https:\/\/github.com\/moneykit\/moneykit-ios"},{"text":" and try out the example application, which provides a reference implementation in Swift. Youʼll want to sign up for API keys at ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/www.moneykit.com\/"},{"text":" to get started.","type":"text"}],"type":"paragraph"},{"anchor":"Installation","text":"Installation","type":"heading","level":2},{"inlineContent":[{"type":"text","text":"MoneyKit for iOS is an embeddable framework that is bundled and distributed with your application. There are several ways to obtain the necessary files and keep them up-to-date; we recommend using Swift Package Manager. Regardless of what you choose, submitting a new version of your application with the updated MoneyKit.xcframework to the App Store is required."}],"type":"paragraph"},{"text":"Swift Package Manager","level":4,"type":"heading","anchor":"Swift-Package-Manager"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"To integrate MoneyKit using Swift Package Manager, Swift version >= 5.5 is required.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"In your Xcode project, from the Project Navigator, select your project, activate the Package Dependencies tab, and click on the plus symbol to open the Add Package popup window:"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Enter the MoneyKit package URL https:\/\/github.com\/moneykit\/moneykit-ios into the search bar in the top right corner of the Add Package popup window.","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Select the moneykit-ios package."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Choose your dependency rule (we recommend Up to Next Major Version).","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Select the project to which you would like to add MoneyKit, then click Add Package.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Select the MoneyKit package and click Add Package.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Verify that the MoneyKit package was properly added as a dependency to your project."}]}]},{"content":[{"inlineContent":[{"text":"Select your application target and ensure that the MoneyKit framework is embedded into your application.","type":"text"}],"type":"paragraph"}]}],"type":"orderedList"},{"anchor":"Manual-Install","text":"Manual Install","type":"heading","level":4},{"type":"paragraph","inlineContent":[{"type":"text","text":"Get the latest version of the "},{"type":"strong","inlineContent":[{"type":"text","text":"MoneyKit.xcframework"}]},{"text":" and embed it into your application, for example by dragging and dropping the XCFramework bundle onto the ","type":"text"},{"type":"strong","inlineContent":[{"text":"Embed Frameworks","type":"text"}]},{"type":"text","text":" build phase of your application target in Xcode."}]},{"text":"Using MoneyKit","level":2,"anchor":"Using-MoneyKit","type":"heading"},{"type":"paragraph","inlineContent":[{"text":"Before writing code using the MoneyKit framework, you must first configure your application to handle authentication callbacks. You will need to add a custom URL scheme to handle redirects from a third party authentication flow back into your app. An example of a custom URL scheme is: ","type":"text"},{"isActive":true,"identifier":"myfinanceapp:\/\/oauth","type":"reference"},{"text":".","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"For more details, see Apple’s documentation on "},{"isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/xcode\/defining-a-custom-url-scheme-for-your-app","type":"reference"},{"text":".","type":"text"}]},{"anchor":"Get-a-link-session-token","text":"Get a link session token","level":4,"type":"heading"},{"inlineContent":[{"text":"Before you can open the link flow, you need to first create a ","type":"text"},{"type":"codeVoice","code":"link_session_token"},{"text":". A ","type":"text"},{"code":"link_session_token","type":"codeVoice"},{"type":"text","text":" can be configured for different linking types and is used to control much of the behavior."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Full, detailed instructions on how to create a "},{"code":"link_session_token","type":"codeVoice"},{"type":"text","text":" can be found in our "},{"identifier":"https:\/\/docs.moneykit.com\/","isActive":true,"type":"reference"},{"type":"text","text":"."}]},{"anchor":"Create-a-Configuration","text":"Create a Configuration","type":"heading","level":4},{"inlineContent":[{"text":"Starting the MoneyKit link flow begins with creating a ","type":"text"},{"type":"codeVoice","code":"link_session_token"},{"type":"text","text":". Once the "},{"type":"codeVoice","code":"link_session_token"},{"type":"text","text":" is passed to your app, create an instance of "},{"type":"codeVoice","code":"MKConfiguration"},{"text":", then create an instance of ","type":"text"},{"code":"MKLinkHandler","type":"codeVoice"},{"type":"text","text":" passing in the previously created "},{"type":"codeVoice","code":"MKConfiguration"},{"text":", and call ","type":"text"},{"type":"codeVoice","code":"presentInstitutionSelectionFlow(using:)"},{"type":"text","text":" on the handler, passing your preferred "},{"type":"codeVoice","code":"MKPresentationMethod"},{"type":"text","text":" method. Note that each time you open the link flow, you will need to get a new "},{"type":"codeVoice","code":"link_session_token"},{"type":"text","text":" from your server and create a new "},{"type":"codeVoice","code":"MKConfiguration"},{"type":"text","text":" with it."}],"type":"paragraph"},{"code":["","let linkSessionToken: String = \"<#YOUR_LINK_SESSION_TOKEN#>\"","","do {","","    let configuration =  try MKConfiguration(","        sessionToken: linkSessionToken,","        onSuccess: { successType in","","            switch successType {","            case let .linked(institution):","                print(\"Linked - Link Identifier to use on MoneyKit API: \\(institution.linkIdentifier.value)\")","            case .relinked:","                print(\"Relinked\")","            @unknown default:","                print(\"Future MKLinkSuccessType\")","            }","        },","        onExit: {","            print(\"Exited Link\")","        }","    )","} catch let error {","    print(\"Configuration error - \\(error.localizedDescription)\")","}",""],"type":"codeListing","syntax":"swift"},{"level":4,"anchor":"Create-a-Handler","type":"heading","text":"Create a Handler"},{"inlineContent":[{"type":"text","text":"A handler is a one-time-use object used to open a link session. The handler must be retained for the duration of the flow. It will also be needed to respond to OAuth custom URL scheme redirects."}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["","let linkHandler = MKLinkHandler(configuration: configuration)",""]},{"text":"Present link flow","level":4,"type":"heading","anchor":"Present-link-flow"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Finally, open Link by calling "},{"code":"presentLinkFlow(using:)","type":"codeVoice"},{"type":"text","text":" on the Handler object. This will usually be done in a button’s target action."}]},{"code":["","let presentationMethod = MKPresentationMethod.modal(presentingViewController: self)","linkHandler.presentInstitutionSelectionFlow(using: presentationMethod)",""],"type":"codeListing","syntax":"swift"},{"text":"Handling OAuth callback","level":4,"anchor":"Handling-OAuth-callback","type":"heading"},{"inlineContent":[{"type":"text","text":"For institutions that use OAuth, make sure to implement the the "},{"code":"open","type":"codeVoice"},{"text":" method in your ","type":"text"},{"code":"UIApplicationDelegate","type":"codeVoice"},{"text":" or the ","type":"text"},{"type":"codeVoice","code":"openURLContexts"},{"text":" method in your ","type":"text"},{"type":"codeVoice","code":"UIWindowSceneDelegate"},{"text":" if your app has opted into Scenes. Call the ","type":"text"},{"code":"continueFlow(from:)","type":"codeVoice"},{"type":"text","text":" on the instance of "},{"code":"MKLinkHandler","type":"codeVoice"},{"type":"text","text":" to complete the authentication."}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["","linkHandler.continueFlow(from: url)",""]},{"level":2,"anchor":"Upgrading","text":"Upgrading","type":"heading"},{"type":"paragraph","inlineContent":[{"type":"text","text":"New versions of "},{"type":"strong","inlineContent":[{"text":"MoneyKit.xcframework","type":"text"}]},{"text":" are released frequently, at least once every few months. We recommend you keep up-to-date to provide the best MoneyKit experience in your application.","type":"text"}]}],"kind":"content"}],"identifier":{"url":"doc:\/\/com.moneykit.link\/documentation\/MoneyKit\/Getting-started-with-MoneyKit","interfaceLanguage":"swift"},"variants":[{"paths":["\/documentation\/moneykit\/getting-started-with-moneykit"],"traits":[{"interfaceLanguage":"swift"}]},{"traits":[{"interfaceLanguage":"occ"}],"paths":["\/documentation\/moneykit\/getting-started-with-moneykit"]}],"metadata":{"role":"article","modules":[{"name":"MoneyKit"}],"title":"Getting started with MoneyKit","roleHeading":"Article"},"schemaVersion":{"minor":3,"patch":0,"major":0},"hierarchy":{"paths":[["doc:\/\/com.moneykit.link\/documentation\/MoneyKit"]]},"sections":[],"abstract":[{"type":"text","text":"Set up MoneyKit in your iOS application."}],"references":{"https://www.moneykit.com/":{"title":"moneykit.com","type":"link","titleInlineContent":[{"type":"text","text":"moneykit.com"}],"url":"https:\/\/www.moneykit.com\/","identifier":"https:\/\/www.moneykit.com\/"},"https://developer.apple.com/documentation/xcode/defining-a-custom-url-scheme-for-your-app":{"title":"defining a custom url scheme for your app","type":"link","titleInlineContent":[{"type":"text","text":"defining a custom url scheme for your app"}],"url":"https:\/\/developer.apple.com\/documentation\/xcode\/defining-a-custom-url-scheme-for-your-app","identifier":"https:\/\/developer.apple.com\/documentation\/xcode\/defining-a-custom-url-scheme-for-your-app"},"https://docs.moneykit.com/":{"title":"documentation","type":"link","titleInlineContent":[{"type":"text","text":"documentation"}],"url":"https:\/\/docs.moneykit.com\/","identifier":"https:\/\/docs.moneykit.com\/"},"myfinanceapp://oauth":{"title":"myfinanceapp:\/\/oauth","type":"link","titleInlineContent":[{"type":"text","text":"myfinanceapp:\/\/oauth"}],"url":"myfinanceapp:\/\/oauth","identifier":"myfinanceapp:\/\/oauth"},"https://github.com/moneykit/moneykit-ios":{"title":"GitHub repository","type":"link","titleInlineContent":[{"type":"text","text":"GitHub repository"}],"url":"https:\/\/github.com\/moneykit\/moneykit-ios","identifier":"https:\/\/github.com\/moneykit\/moneykit-ios"},"doc://com.moneykit.link/documentation/MoneyKit":{"type":"topic","role":"collection","identifier":"doc:\/\/com.moneykit.link\/documentation\/MoneyKit","kind":"symbol","title":"MoneyKit","url":"\/documentation\/moneykit","abstract":[{"type":"text","text":"Internet Money Magic"}]}},"variantOverrides":[{"patch":[{"path":"\/identifier\/interfaceLanguage","op":"replace","value":"occ"},{"value":null,"op":"add","path":"\/topicSections"},{"path":"\/seeAlsoSections","op":"add","value":null}],"traits":[{"interfaceLanguage":"occ"}]}]}